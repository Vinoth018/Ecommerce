{% extends 'base.html' %}
{% block content %}
<h2>Admin Dashboard</h2>

<form method="POST" enctype="multipart/form-data" class="row g-3 mb-4">
  <div class="col-md-3">
    <input name="name" class="form-control" placeholder="Product Name" required>
  </div>
  <div class="col-md-2">
    <select name="category" class="form-control" required>
      <option value="">Select Category</option>
      <option value="Tshirt">Tshirt</option>
      <option value="Shirt">Shirt</option>
      <option value="Pant">Pant</option>
      <option value="Tracks">Tracks</option>
      <option value="Shorts">Shorts</option>
    </select>
  </div>
  <div class="col-md-2">
    <input name="price" type="number" step="0.01" class="form-control" placeholder="Price" required>
  </div>
  <div class="col-md-2">
    <input name="stock" type="number" class="form-control" placeholder="Stock" required>
  </div>
  <div class="col-md-3">
    <input name="description" class="form-control" placeholder="Description">
  </div>
  <div class="col-md-3">
    <label for="image">Product Image</label>
    <input type="file" name="image" class="form-control" accept="image/*" required>
  </div>
  <div class="col-12">
    <button class="btn btn-primary" type="submit">Add Product</button>
  </div>
</form>

<h4>Products</h4>
<table class="table table-bordered">
  {% for p in products %}
  <tr>
    <td>{{ p.name }}</td>
    <td>{{ p.category }}</td>
    <td>{{ p.price }}</td>
    <td>{{ p.stock }}</td>
    <td><img src="{{ url_for('static', filename='product_images/' + p.image) }}" alt="{{ p.name }}" width="50"></td>
    <td><a href="{{ url_for('delete_product', pid=p.id) }}" class="btn btn-sm btn-danger">Delete</a></td>
  </tr>
  {% endfor %}
</table>

<h4>Orders</h4>
<ul>
  {% for o in orders %}
  <li>Product ID: {{ o.product_id }}</li>
  {% endfor %}
</ul>
{% endblock %}

